---
#
# This playbook will make sure the packges provided through apt are up 
# to date (but will not reboot boxes; that is a different playbook)
#
- hosts: '{{ ansible_limit | default(omit) }}'
  vars:
    test_secrets: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65313332393737633530616134643263656135633666363135663765333534396138666466633737
          6565313035343331333162393164323935633232393566650a616139346431646233646666613664
          37333330613439636363663330343362346262663263356536303737613637313961656432363864
          3466386562616436660a323862376339633830373864653064626435326139633264643733313133
          64656263343738346639333865646461303332663762356163626532396230336337
  gather_facts: false
  tasks: 
  - name: Decrypt secret
    set_fact:
      decrypted_secret: "{{ test_secrets }}"
  - name: Read the secret
    debug: msg="{{ decrypted_secret }}"